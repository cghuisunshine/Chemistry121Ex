<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Chem 121 ‚Äì Master Map (Multi-Grain √ó Tree)</title>
<style>
  :root{
    --bg:#050815;
    --panel:#0f1733;
    --panel-soft:#111a3a;
    --ink:#e8ecff;
    --muted:#a9b3d1;
    --accent:#8bb2ff;
    --accent2:#6ee7b7;
    --danger:#f97373;
    --ring:rgba(139,178,255,.4);
    --hover:rgba(139,178,255,.12);
    --mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono",monospace;
    --sans:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,"Noto Sans";
  }

  *{box-sizing:border-box;}
  html,body{height:100%;margin:0;padding:0;}
  body{
    background:radial-gradient(1100px 700px at 8% -8%,#1b2452 0%,#050815 42%,#020312 100%);
    color:var(--ink);
    font-family:var(--sans);
    line-height:1.5;
  }

  .shell{
    max-width:1220px;
    margin:clamp(12px,3vw,24px) auto;
    padding:clamp(12px,3vw,24px);
    background:color-mix(in oklab, var(--panel) 92%, black 8%);
    border-radius:18px;
    border:1px solid rgba(255,255,255,.06);
    box-shadow:0 14px 40px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.04);
    display:flex;
    gap:18px;
    min-height:560px;
  }

  .sidebar{
    width:270px;
    flex-shrink:0;
    display:flex;
    flex-direction:column;
    gap:12px;
  }

  .main{
    flex:1;
    min-width:0;
    background:color-mix(in oklab, var(--panel-soft) 92%, black 8%);
    border-radius:16px;
    padding:18px 20px 20px;
    border:1px solid rgba(255,255,255,.06);
    box-shadow:inset 0 1px 0 rgba(255,255,255,.04);
  }

  header h1{
    margin:0 0 4px;
    font-size:clamp(20px,2.4vw,30px);
  }
  header p{
    margin:0;
    color:var(--muted);
    font-size:13px;
  }

  .pill-row{
    display:flex;
    flex-wrap:wrap;
    gap:6px;
    margin-top:8px;
  }
  .pill{
    font-size:11px;
    text-transform:uppercase;
    letter-spacing:.06em;
    padding:3px 8px;
    border-radius:999px;
    border:1px solid rgba(139,178,255,.35);
    color:var(--accent);
    background:rgba(10,24,55,.6);
  }

  .chapter-list{
    margin-top:10px;
    padding:8px;
    border-radius:14px;
    background:rgba(3,9,35,.8);
    border:1px solid rgba(255,255,255,.05);
    display:flex;
    flex-direction:column;
    gap:4px;
    max-height:520px;
    overflow:auto;
  }

  .chapter-btn{
    border:0;
    background:transparent;
    color:var(--muted);
    text-align:left;
    font-size:13px;
    padding:7px 8px;
    border-radius:10px;
    cursor:pointer;
    display:flex;
    flex-direction:column;
    gap:2px;
    transition:background .12s ease,color .12s ease,transform .05s ease, box-shadow .12s ease;
  }
  .chapter-btn span.code{
    font-family:var(--mono);
    font-size:11px;
    opacity:.9;
  }
  .chapter-btn strong{
    font-size:13px;
    color:var(--ink);
  }
  .chapter-btn .mini-tags{
    font-size:10px;
    text-transform:uppercase;
    letter-spacing:.08em;
    opacity:.85;
  }
  .chapter-btn:hover{
    background:var(--hover);
    color:var(--ink);
    box-shadow:0 0 0 1px var(--ring);
  }
  .chapter-btn.active{
    background:linear-gradient(135deg, rgba(139,178,255,.16), rgba(110,231,183,.06));
    box-shadow:0 0 0 1px var(--ring),0 10px 25px rgba(0,0,0,.45);
    color:var(--ink);
    transform:translateY(-1px);
  }

  .chapter-meta{
    font-size:11px;
    color:var(--muted);
    margin-top:6px;
  }

  .section{
    margin-top:12px;
    padding-top:8px;
    border-top:1px solid rgba(255,255,255,.06);
  }
  .section:first-of-type{
    border-top:none;
    margin-top:6px;
    padding-top:2px;
  }

  .section h2{
    margin:0 0 6px;
    font-size:15px;
    display:flex;
    align-items:center;
    gap:6px;
  }
  .section h2 span.tag{
    font-size:11px;
    padding:2px 7px;
    border-radius:999px;
    border:1px solid rgba(255,255,255,.12);
    color:var(--muted);
  }
  .section h2 .emoji{
    font-size:15px;
  }
  .section h2 .label{
    text-transform:uppercase;
    letter-spacing:.12em;
    font-size:11px;
    color:var(--muted);
  }

  .block{
    font-size:13px;
    color:var(--muted);
  }
  .block p{
    margin:2px 0 8px;
  }

  ul{
    margin:4px 0 8px 1.1rem;
    padding:0;
  }
  li{
    margin:2px 0;
  }

  code{
    font-family:var(--mono);
    font-size:12px;
    padding:1px 4px;
    border-radius:6px;
    background:rgba(15,23,42,.9);
    border:1px solid rgba(148,163,184,.45);
  }

  /* Copy-on-double-click styling */
  [data-copyable]{
    position:relative;
    border-radius:8px;
    padding:1px 3px;
    margin-left:-3px;
    margin-right:-3px;
    cursor:copy;
    transition:background .12s ease, box-shadow .12s ease, transform .05s ease;
  }
  [data-copyable]:hover{
    background:var(--hover);
    box-shadow:0 0 0 2px var(--ring);
  }
  [data-copyable].copied{
    background:rgba(110,231,183,.18);
    box-shadow:0 0 0 2px rgba(110,231,183,.45);
  }

  .kbd{
    font:11px/1 var(--mono);
    background:rgba(255,255,255,.08);
    padding:2px 6px;
    border-radius:6px;
    border:1px solid rgba(255,255,255,.14);
  }

  .toast{
    position:fixed;
    top:14px;
    right:14px;
    background:#0a1b12;
    color:#d5ffe9;
    border:1px solid rgba(110,231,183,.4);
    padding:10px 12px;
    border-radius:10px;
    font-size:14px;
    display:none;
    box-shadow:0 10px 24px rgba(0,0,0,.35);
    z-index:50;
  }

  @media (max-width:860px){
    .shell{
      flex-direction:column;
    }
    .sidebar{
      width:100%;
    }
    .chapter-list{
      max-height:220px;
    }
  }
</style>
</head>
<body>
<div class="shell" id="content-root">
  <aside class="sidebar">
    <header>
      <h1>Chem 121 ‚Äì Master Map</h1>
    </header>
    <div class="chapter-list" id="chapter-list"></div>
    <div class="chapter-meta">
      Flow: skim the <b>Roots</b> (big picture); build the <b>Trunk</b> (core concepts); grow <b>Branches</b> (micro theory); collect <b>Leaves</b> &amp; <b>Fruit</b> (skills &amp; formulas).
    </div>
  </aside>

  <main class="main" id="chapter-content">
    <!-- JS injects chapter tree here -->
  </main>
</div>

<div id="toast" class="toast" role="status" aria-live="polite">Copied ‚úî</div>

<script>
const chapters = [
  {
    id:"ch1",
    short:"Ch 1",
    code:"1.1‚Äì1.8",
    title:"Why Study Chemistry? & How to Learn It",
    roots:[
      "Chemistry is the study of matter and energy at the particle level, and it underlies biology, physics, earth science, and technology.",
      "Chem 121 is not just facts; it is training your brain to think in models, symbols, and approximations.",
      "How you study (habits, practice, feedback) matters as much as what you study."
    ],
    trunk:[
      "Role of Chemistry ‚Äî Chemistry links microscopic particles (atoms, ions, molecules) to macroscopic observations (colour, temperature, phase, reactivity).",
      "Course Content ‚Äî Chem 121 focuses on structure and bonding: quantum theory, orbitals, bonding models, and macromolecular properties.",
      "Programs in Chemistry ‚Äî A chemistry background appears in medicine, engineering, materials, environmental science, and more.",
      "Active Reading ‚Äî Reading a chemistry workbook means pausing to annotate, summarize, and attempt examples, not just scrolling through text.",
      "Practice Problems ‚Äî Learning happens when you attempt problems before seeing the solution, then compare and correct.",
      "Study for Exams ‚Äî Spread practice over time (spacing), mix topics (interleaving), and simulate exam conditions to test retrieval.",
      "Getting Help ‚Äî Office hours, resource centres, and study groups help you debug your understanding, not just ‚Äúcheck answers‚Äù."
    ],
    branches:[
      "Chemistry as a Model-Building Science ‚Äî Real systems are too complex to describe exactly; chemists build and test simple models (ideal gas, Lewis structures, MO diagrams) that capture the most important features.",
      "Representation Layers ‚Äî A single situation can be described in words, formulas, particle diagrams, energy diagrams, and graphs; fluency means moving between layers.",
      "Cognitive Load ‚Äî Complex problems overload working memory; good notes, chunked steps, and patterns (like algorithmic Lewis rules) reduce mental load.",
      "Metacognition ‚Äî Regularly asking ‚ÄúDo I really understand this, or am I just following steps?‚Äù improves long-term performance more than raw hours."
    ],
    leaves:[
      "Translate between verbal descriptions and symbolic chemical language.",
      "Plan a study schedule that revisits topics multiple times before the exam.",
      "Use practice problems as feedback: what do my errors have in common?"
    ],
    fruit:[
      "Outcome: You can navigate Chem 121 as a model-building course, not just a list of facts, and build study habits that actually stick."
    ]
  },
  {
    id:"ch2",
    short:"Ch 2",
    code:"2.1‚Äì2.39",
    title:"Chemical Bonding and Lewis Structures",
    roots:[
      "Bonding is about how electrons are shared or transferred between atoms to lower their total energy.",
      "Lewis structures are a bookkeeping model for valence electrons that help predict bonding, charge distribution, and connectivity.",
      "Formal charge, oxidation state, and partial charge are different bookkeeping schemes for the same electron distribution story."
    ],
    trunk:[
      "Ionic vs Covalent Bonding ‚Äî Ionic: electron transfer and electrostatic attraction between ions (e.g., NaCl). Covalent: sharing of electron pairs between nuclei (e.g., H‚ÇÇO).",
      "Octet Rule ‚Äî Main-group atoms tend to gain, lose, or share electrons to reach 8 valence electrons (H, He use duet). There are exceptions (odd-electron species, expanded octets, electron-deficient species).",
      "Bond Order ‚Äî Roughly ‚Äúnumber of bonding pairs‚Äù between two atoms: higher bond order ‚Üí shorter and stronger bonds.",
      "Bond Polarity ‚Äî When electronegativities differ, electrons are pulled more towards one atom, giving a polar covalent bond with partial charges Œ¥‚Å∫/Œ¥‚Åª.",
      "Percent Ionic Character ‚Äî Measures how ionic vs covalent a bond is, based on electronegativity difference and experimental data.",
      "Lewis Structures ‚Äî Count valence electrons, connect atoms with single bonds, complete octets with lone pairs, then adjust with multiple bonds as needed.",
      "Formal Charge ‚Äî FC = valence e‚Åª ‚Äì (nonbonding e‚Åª + ¬Ω bonding e‚Åª); helps choose the most reasonable Lewis structure.",
      "Resonance ‚Äî When more than one valid Lewis structure exists, the real molecule is a resonance hybrid with delocalized electrons.",
      "Oxidation State vs Formal Charge ‚Äî Oxidation state assumes completely ionic bonds; formal charge assumes perfectly covalent sharing."
    ],
    branches:[
      "Energy Perspective ‚Äî Bond formation releases energy because shared electron density between nuclei lowers potential energy relative to separated atoms.",
      "Electronegativity & QM ‚Äî Electronegativity differences reflect how strongly an atom‚Äôs nucleus attracts electron density in a shared orbital.",
      "Resonance and Delocalization ‚Äî In QM, electrons occupy delocalized molecular orbitals; resonance structures are classical cartoons of this delocalization.",
      "Partial Charges ‚Äî Real charge distributions are continuous and can be estimated by quantum calculations; partial charges connect to dipole moments and reactivity.",
      "Limitations of Lewis ‚Äî Lewis structures cannot show orbital shapes, nodal patterns, or detailed electronic excited states."
    ],
    leaves:[
      "Draw Lewis structures systematically for neutral molecules and ions.",
      "Assign formal charges and pick the best structure using FC and electronegativity.",
      "Recognize resonance and draw contributing structures.",
      "Estimate relative bond length/strength from bond order and polarity."
    ],
    fruit:[
      "Formal charge: FC = V ‚àí (N + B/2); V = valence e‚Åª, N = nonbonding e‚Åª, B = bonding e‚Åª.",
      "Simple Lewis bond order: number of bonding pairs between the two atoms.",
      "Outcome: You can turn formulas into structures and quickly judge which resonance picture is most reasonable."
    ]
  },
  {
    id:"ch3",
    short:"Ch 3",
    code:"3.1‚Äì3.25",
    title:"Shapes and Polarity of Chemical Species (VSEPR)",
    roots:[
      "3D molecular shape controls polarity, intermolecular forces, and reactivity.",
      "VSEPR treats electron pairs as charge clouds that repel and arrange to minimize repulsion.",
      "Molecular polarity combines individual bond dipoles with 3D geometry."
    ],
    trunk:[
      "Electron Domains ‚Äî A domain is a region of electron density around a central atom: single, double, triple bonds and lone pairs each count as one domain.",
      "Parent Shape ‚Äî The arrangement of all domains (bonding + lone pairs) gives the parent geometry (e.g., tetrahedral, trigonal bipyramidal).",
      "Molecular Shape ‚Äî Ignore lone pairs and describe the arrangement of atoms (e.g., bent, trigonal pyramidal, see-saw).",
      "Bond Angles ‚Äî Ideal angles (e.g., 109.5¬∞ for tetrahedral) are modified by lone pairs and multiple bonds (lone pairs compress angles).",
      "Polarity ‚Äî A molecule is polar if its vector sum of bond dipoles ‚â† 0; shape can cancel or enhance dipoles.",
      "Shapes of Larger Molecules ‚Äî Consider local VSEPR around each central atom (e.g., in organic molecules).",
      "Experimental Structure Determination ‚Äî Techniques like X-ray crystallography and spectroscopy validate structural models."
    ],
    branches:[
      "Electron Density Clouds ‚Äî In QM, regions of high electron density repel via Coulomb forces; VSEPR is a simplified picture of this.",
      "Lone Pairs vs Bonding Pairs ‚Äî Lone pairs are more localized to one nucleus and often occupy more space, causing stronger repulsions.",
      "Multiple Bonds ‚Äî Double/triple bonds have greater electron density between nuclei and exert more repulsion than single bonds.",
      "Connection to Hybridization ‚Äî VSEPR geometries often align with hybrid orbital sets (sp, sp¬≤, sp¬≥, etc.), linking VBT to geometry."
    ],
    leaves:[
      "Count electron domains and identify parent geometry.",
      "Determine molecular shape and predict approximate bond angles.",
      "Predict whether a molecule is polar or non-polar based on shape and bond dipoles."
    ],
    fruit:[
      "Outcome: You can go from a Lewis structure ‚Üí 3D shape ‚Üí polarity ‚Üí first-pass prediction of IMFs and reactivity."
    ]
  },
  {
    id:"ch4",
    short:"Ch 4",
    code:"4.1‚Äì4.28",
    title:"Fundamentals of Quantum Mechanics",
    roots:[
      "Particles like electrons show wave-like behaviour; their allowed states are standing waves with quantized energies.",
      "Quantum mechanics replaces exact trajectories with wavefunctions that give probability distributions.",
      "Simple models like the particle-in-a-box show how boundary conditions lead to energy quantization and nodes."
    ],
    trunk:[
      "Wave Concepts ‚Äî Amplitude, wavelength Œª, frequency ŒΩ, and phase describe classical waves.",
      "Transverse Waves & Standing Waves ‚Äî Standing waves on strings and in boxes are analogies for quantized states.",
      "Probability Interpretation ‚Äî |œà(x)|¬≤ gives the probability density of finding a particle at position x.",
      "Heisenberg Uncertainty Principle ‚Äî There is a fundamental limit to the simultaneous precision of position and momentum.",
      "Schr√∂dinger Equation ‚Äî A differential equation whose solutions œà and energies E describe allowed quantum states.",
      "Particle-in-a-Box ‚Äî A simple 1D model with infinite walls giving discrete energies and sinusoidal wavefunctions.",
      "Energy Quantization ‚Äî Only certain energies are allowed, associated with whole numbers of half-wavelengths fitting into the ‚Äúbox‚Äù.",
      "Superposition ‚Äî A general state can be a linear combination of stationary states; probabilities come from |Œ£ c‚Çô œà‚Çô|¬≤."
    ],
    branches:[
      "Conjugate Variables ‚Äî Position x and momentum p are conjugate: their operators do not commute; this yields the uncertainty relation.",
      "Nodes ‚Äî Points where œà = 0 arise from destructive interference; more nodes generally mean higher energy.",
      "Orthogonality ‚Äî Different stationary states are orthogonal: their inner product is zero; this simplifies expansions.",
      "Time Evolution ‚Äî Stationary states only gain a phase factor in time; superpositions change probability distributions in time.",
      "QM vs Classical ‚Äî Quantum systems recover classical behaviour in the large-quantum-number limit (correspondence principle)."
    ],
    leaves:[
      "Relate standing waves on a string to quantized energy levels.",
      "Count nodes in simple wavefunctions and connect them to quantum numbers.",
      "Explain qualitatively what |œà|¬≤ means and why probability is spread out.",
      "Use analogies (box, string, pipe) to reason about quantum allowed states."
    ],
    fruit:[
      "Heisenberg uncertainty: Œîx ¬∑ Œîp ‚â• ƒß/2.",
      "1D particle-in-a-box energies: E‚Çô = n¬≤h¬≤ / (8mL¬≤), n = 1,2,3,‚Ä¶ .",
      "Outcome: You can link ‚Äústanding wave picture‚Äù ‚Üí quantized energies ‚Üí later orbital and MO diagrams."
    ]
  },
  {
    id:"ch5",
    short:"Ch 5",
    code:"5.1‚Äì5.21",
    title:"Electronic Structure of Atoms and Ions (One-Electron Systems)",
    roots:[
      "Quantum numbers (n, l, m) naturally arise when solving the Schr√∂dinger equation for hydrogen-like atoms.",
      "Atomic orbitals (s, p, d, ‚Ä¶) are standing-wave solutions with characteristic shapes and node patterns.",
      "Energetics in hydrogenic ions depend only on n; degeneracy is lifted in multi-electron atoms."
    ],
    trunk:[
      "Hydrogen-like Species ‚Äî Atoms/ions with one electron (H, He‚Å∫, Li¬≤‚Å∫) can be solved exactly.",
      "Quantum Numbers ‚Äî n (principal), l (angular momentum), m (magnetic); they label energies and shapes of orbitals.",
      "Radial vs Angular Parts ‚Äî œà(r,Œ∏,œÜ) splits into radial R‚Çô,‚Çó(r) and angular Y‚Çó·µê(Œ∏,œÜ) parts.",
      "s, p, d Orbitals ‚Äî l = 0 ‚Üí s (spherical); l = 1 ‚Üí p (dumbbell); l = 2 ‚Üí d (clover, donut shapes).",
      "Nodes ‚Äî Total nodes = n ‚àí 1; angular nodes = l; radial nodes = n ‚àí l ‚àí 1.",
      "Energy Levels ‚Äî For hydrogen-like systems, E depends only on n and nuclear charge Z.",
      "Mid-Point Summaries ‚Äî Help check qualitative understanding of orbitals and energy patterns."
    ],
    branches:[
      "Separation of Variables ‚Äî In spherical coordinates, Schr√∂dinger‚Äôs equation separates, giving spherical harmonics and radial equations.",
      "Legendre Polynomials & Spherical Harmonics ‚Äî Angular parts Y‚Çó·µê(Œ∏,œÜ) encode orbital shape and orientation.",
      "Degeneracy ‚Äî For hydrogen, all orbitals with the same n have the same energy; higher symmetry leads to degeneracy.",
      "Z-Dependence ‚Äî Energies scale with Z¬≤ for hydrogen-like ions, making inner electrons much more tightly bound.",
      "Visualization ‚Äî Orbital pictures show surfaces of constant |œà|¬≤; they are probability ‚Äúcloud‚Äù boundaries, not hard shells."
    ],
    leaves:[
      "Assign n, l, m values to specific orbitals (e.g., 3d, 4p).",
      "Count radial and angular nodes for a given orbital.",
      "Recognize and sketch basic s, p, and d orbital shapes.",
      "Explain qualitatively why energies depend on n and Z for hydrogen-like ions."
    ],
    fruit:[
      "Total nodes = n ‚àí 1; angular nodes = l; radial nodes = n ‚àí l ‚àí 1.",
      "Hydrogen-like energies: E‚Çô = ‚àí(Z¬≤R_H)/n¬≤ (R_H = Rydberg constant).",
      "Outcome: You can read orbital labels as compressed information about shape, nodes, and energy."
    ]
  },
  {
    id:"ch6",
    short:"Ch 6",
    code:"6.1‚Äì6.15",
    title:"Interactions Between Light and Matter",
    roots:[
      "Light behaves as both a wave and a stream of photons; different models are useful in different contexts.",
      "Electronic transitions correspond to absorption or emission of photons with specific energies.",
      "Spectroscopy uses the interaction of light with matter to probe energy levels and structure."
    ],
    trunk:[
      "Nature of Light ‚Äî Electromagnetic waves characterized by wavelength Œª, frequency ŒΩ, and speed c.",
      "Electromagnetic Spectrum ‚Äî Ranges from radio to gamma; different regions probe different processes.",
      "Wave‚ÄìParticle Duality ‚Äî Light shows interference and diffraction (wave) and also comes in photons (particle).",
      "Photoelectric Effect ‚Äî Electrons are ejected from a metal when photon energy exceeds the work function.",
      "Photon Energy ‚Äî E = hŒΩ = hc/Œª links wavelength to energy.",
      "Absorption & Emission ‚Äî Atoms/molecules absorb photons to move to excited states and emit when they relax.",
      "Atomic Spectra ‚Äî Line spectra correspond to discrete electronic transitions between quantized energy levels."
    ],
    branches:[
      "Energy Quantization and Spectra ‚Äî Allowed energy levels give discrete ŒîE, so only certain Œª appear in emission/absorption.",
      "Einstein‚Äôs Photon Hypothesis ‚Äî Explains threshold frequency in the photoelectric effect: below ŒΩ‚ÇÄ, no electrons regardless of intensity.",
      "Selection Rules ‚Äî Not all transitions are allowed; symmetry and angular momentum conservation restrict transitions.",
      "Spectroscopy as a Probe ‚Äî Measuring Œª and intensity of spectral lines reveals energy level spacings and populations."
    ],
    leaves:[
      "Relate Œª, ŒΩ, and E for photons: shorter wavelength ‚Üí higher energy.",
      "Explain the photoelectric effect qualitatively and apply threshold concepts.",
      "Interpret simple line spectra in terms of electronic transitions."
    ],
    fruit:[
      "Wave relation: c = ŒªŒΩ.",
      "Photon energy: E = hŒΩ = hc/Œª.",
      "Photoelectric equation: KE_max = hŒΩ ‚àí Œ¶ (Œ¶ = work function).",
      "Outcome: You can connect spectra and photon diagrams directly to energy-level spacings in atoms and molecules."
    ]
  },
  {
    id:"ch7",
    short:"Ch 7",
    code:"7.1‚Äì7.19",
    title:"Multi-Electron Species and Periodic Properties",
    roots:[
      "In multi-electron atoms, electron‚Äìelectron repulsions and shielding modify orbital energies.",
      "Effective nuclear charge Z_eff explains periodic trends in size, ionization energy, and electron affinity.",
      "Electron configuration patterns produce the structure of the periodic table."
    ],
    trunk:[
      "Shielding & Penetration ‚Äî Inner electrons shield outer electrons from the full nuclear charge; some orbitals penetrate closer to the nucleus.",
      "Effective Nuclear Charge ‚Äî Z_eff ~ Z ‚àí S, where S is shielding; higher Z_eff pulls electrons closer.",
      "Spin Quantum Number ‚Äî Electrons have spin ¬±¬Ω; Pauli principle forbids identical sets of quantum numbers.",
      "Electron Configuration ‚Äî Aufbau principle, Pauli exclusion, and Hund‚Äôs rule guide filling of orbitals.",
      "Magnetism ‚Äî Paired electrons ‚Üí diamagnetic; unpaired ‚Üí paramagnetic.",
      "Atomic/Ionic Radii ‚Äî Sizes vary periodically: decrease across a period, increase down a group; cations smaller, anions larger.",
      "Ionization Energy (IE) ‚Äî Energy required to remove an electron; relates to how strongly electrons are held.",
      "Electron Affinity (EA) ‚Äî Energy change when an atom gains an electron; trends relate to stability of resulting anion."
    ],
    branches:[
      "Orbital Energy Splitting ‚Äî In multi-electron atoms, s orbitals penetrate more and experience higher Z_eff than p, d, f of the same n.",
      "Exceptions in Configurations ‚Äî Anomalies (e.g., Cr, Cu) arise when half-filled or filled subshells lower energy due to symmetry and exchange.",
      "Origin of Periodic Trends ‚Äî Competing effects of increasing Z, shielding, and electron‚Äìelectron repulsion shape observed patterns.",
      "Magnetism from MO/VBT ‚Äî Unpaired spins in particular orbitals explain observed paramagnetism and bond properties."
    ],
    leaves:[
      "Write ground-state electron configurations, including for ions.",
      "Predict paramagnetic vs diamagnetic behaviour from configurations.",
      "Explain and sketch trends in atomic radii, IE, and EA across periods and down groups."
    ],
    fruit:[
      "Outcome: You can ‚Äúread‚Äù an element‚Äôs configuration to anticipate size, reactivity, and magnetism from its position in the periodic table."
    ]
  },
  {
    id:"ch8",
    short:"Ch 8",
    code:"8.1‚Äì8.16",
    title:"Molecular Orbital (MO) Theory",
    roots:[
      "MO theory treats electrons as occupying orbitals that extend over the entire molecule, not just between pairs of atoms.",
      "Constructive and destructive interference of atomic orbitals produce bonding and antibonding MOs.",
      "MO diagrams predict bond order, magnetism, and relative stability better than Lewis/VSEPR alone."
    ],
    trunk:[
      "Need for MO Theory ‚Äî Lewis and VBT struggle with delocalization, excited states, and magnetic properties (e.g., O‚ÇÇ paramagnetism).",
      "Wave Superposition ‚Äî MOs form as linear combinations of atomic orbitals (LCAO): œà_MO = c_A œà_A + c_B œà_B.",
      "Bonding vs Antibonding ‚Äî In-phase combination increases electron density between nuclei (bonding); out-of-phase introduces a node (antibonding).",
      "MO Diagrams for H‚ÇÇ ‚Äî Simple œÉ (bonding) and œÉ* (antibonding) pair explains bond order and stability.",
      "MO Summary ‚Äî Fill from lowest to highest energy, obeying Pauli and Hund‚Äôs rules at MO level.",
      "Second-Row Homonuclear Diatomics ‚Äî Construction of œÉ and œÄ MOs from 2s and 2p AOs (B‚ÇÇ, C‚ÇÇ, N‚ÇÇ, O‚ÇÇ, F‚ÇÇ).",
      "s‚Äìp Mixing ‚Äî Energy ordering of œÉ2p and œÄ2p can swap for lighter diatomics due to interaction with œÉ2s and œÉ*2s.",
      "Bond Order in MO ‚Äî Bond order = (bonding e‚Åª ‚àí antibonding e‚Åª)/2."
    ],
    branches:[
      "LCAO and Orthogonality ‚Äî MOs are chosen to be orthogonal and normalized; this simplifies electron counting and energy calculations.",
      "Energy Splitting ‚Äî Overlap between AOs determines how far bonding and antibonding levels split in energy.",
      "Paramagnetism of O‚ÇÇ ‚Äî MO diagram predicts two unpaired electrons in œÄ*2p, explaining attraction to magnetic fields.",
      "Delocalization ‚Äî MOs naturally delocalize electron density across multiple atoms, allowing explanation of resonance and conjugation."
    ],
    leaves:[
      "Construct and interpret simple MO diagrams for diatomic molecules.",
      "Calculate bond order from MO occupancy.",
      "Predict whether a species is paramagnetic or diamagnetic.",
      "Relate MO picture to Lewis structures (where they agree or disagree)."
    ],
    fruit:[
      "MO bond order: (n_bonding ‚àí n_antibonding) / 2.",
      "Outcome: You can decide stability and magnetism straight from an MO diagram and see where Lewis/VBT pictures break down."
    ]
  },
  {
    id:"ch9",
    short:"Ch 9",
    code:"9.1‚Äì9.13",
    title:"Valence Bond Theory and Hybridization",
    roots:[
      "Valence Bond (VBT) theory describes bonds as overlaps between localized atomic or hybrid orbitals.",
      "Hybridization mixes s, p, (and sometimes d) orbitals to align electron density with observed molecular shapes.",
      "VBT is powerful for explaining localized bonds and simple shapes, but it has limitations for delocalization."
    ],
    trunk:[
      "Valence Bond Picture ‚Äî A covalent bond forms when half-filled orbitals from two atoms overlap and electrons pair with opposite spins.",
      "Hybrid Orbitals ‚Äî Linear combinations of s and p orbitals (and sometimes d) form directed hybrids (sp, sp¬≤, sp¬≥, sp¬≥d, sp¬≥d¬≤).",
      "Geometry Links ‚Äî sp ‚Üí linear; sp¬≤ ‚Üí trigonal planar; sp¬≥ ‚Üí tetrahedral; sp¬≥d ‚Üí trigonal bipyramidal; sp¬≥d¬≤ ‚Üí octahedral.",
      "œÉ and œÄ Bonds ‚Äî œÉ bonds from head-on overlap; œÄ bonds from side-on overlap of p orbitals.",
      "Examples ‚Äî Use VBT+hybridization to rationalize shapes and bond angles in common molecules (CH‚ÇÑ, NH‚ÇÉ, H‚ÇÇO, CO‚ÇÇ, etc.).",
      "Limitations ‚Äî VBT struggles with molecules requiring extensive delocalization (e.g., benzene) or accurate excited states."
    ],
    branches:[
      "Mathematical Form ‚Äî In VBT, the total wavefunction is a linear combination of structures built from localized overlaps.",
      "Connection to MO ‚Äî MO and VBT wavefunctions can be transformed into each other by unitary transformations; they are alternative bases for the same Hilbert space.",
      "Hybridization as a Choice of Basis ‚Äî Hybrids are chosen for convenience: they simplify interpretation of directionality and bonding.",
      "Electron Pairing ‚Äî Spin pairing in overlapping orbitals lowers energy via exchange interactions and reduced electron‚Äìelectron repulsion."
    ],
    leaves:[
      "Assign hybridization from electron domain count (VSEPR connection).",
      "Draw œÉ and œÄ bonding schemes for simple molecules.",
      "Explain bond angles qualitatively using hybridization and lone pair repulsion.",
      "Recognize when VBT is not sufficient and MO ideas are needed."
    ],
    fruit:[
      "Outcome: You can swap between VSEPR shapes, hybrid labels, and bonding pictures to explain angles and bonding patterns."
    ]
  },
  {
    id:"ch10",
    short:"Ch 10",
    code:"10.1‚Äì10.31",
    title:"Conjugation and Colour",
    roots:[
      "Conjugation (alternating single and multiple bonds) allows œÄ electrons to delocalize over multiple atoms.",
      "Delocalization decreases energy gaps between occupied and unoccupied levels, which can shift absorption into the visible region.",
      "The colour of many organic molecules arises from œÄ‚ÜíœÄ* transitions in extended conjugated systems."
    ],
    trunk:[
      "Definition of Conjugation ‚Äî A system where p orbitals overlap across multiple adjacent atoms (e.g., C=C‚ÄìC=C).",
      "Consequences of Conjugation ‚Äî Lower overall energy, increased stability, shorter ‚Äúsingle‚Äù bonds, and distinct spectroscopy.",
      "MO Picture of 1,3-Butadiene ‚Äî Four œÄ MOs with different node patterns and energies; electrons fill from lowest upward.",
      "Particle-in-a-Box Approximation ‚Äî Approximate a conjugated chain as an electron in a 1D box; more conjugation ‚Üí bigger L ‚Üí smaller ŒîE.",
      "Colour and Absorption ‚Äî When ŒîE between HOMO and LUMO matches visible photon energies, the molecule absorbs visible light and appears coloured.",
      "Subtractive Colour Theory ‚Äî The observed colour is the complement of the absorbed colour.",
      "Applications ‚Äî Organic dyes, indicators, and biological pigments (Œ≤-carotene, retinal)."
    ],
    branches:[
      "MO Ladder ‚Äî Increasing conjugation adds more closely spaced œÄ MOs, narrowing HOMO‚ÄìLUMO gaps.",
      "Node Counting ‚Äî Higher-energy MOs have more nodes, analogous to higher n in particle-in-a-box or harmonic waves.",
      "Selection Rules ‚Äî œÄ‚ÜíœÄ* transitions are often allowed and intense; symmetry can enhance or forbid transitions.",
      "Tuning Colour ‚Äî Changing the œÄ system length or adding electron-donating/withdrawing groups shifts absorption wavelengths."
    ],
    leaves:[
      "Identify conjugated vs non-conjugated systems.",
      "Sketch qualitative MO diagrams for simple conjugated systems.",
      "Predict how increasing conjugation shifts absorption (towards longer Œª).",
      "Relate observed colour to absorbed wavelength qualitatively."
    ],
    fruit:[
      "Particle-in-a-box: E‚Çô = n¬≤h¬≤ / (8mL¬≤), with L ‚àù conjugation length.",
      "HOMO‚ÄìLUMO gap trend: ŒîE ‚àù 1/L¬≤ ‚Üí more conjugation ‚Üí smaller ŒîE ‚Üí longer Œª absorbed.",
      "Outcome: You can reason from structure ‚Üí conjugation length ‚Üí absorption band ‚Üí perceived colour."
    ]
  },
  {
    id:"ch11",
    short:"Ch 11",
    code:"11.1‚Äì11.34",
    title:"Properties of Molecules and Macromolecules",
    roots:[
      "Intermolecular forces (IMFs) link molecular structure to bulk properties like boiling point and solubility.",
      "Different types of solids (ionic, molecular, network covalent) arise from different bonding patterns.",
      "Polymers and macromolecules illustrate how repeated units and architecture control material properties and sustainability issues."
    ],
    trunk:[
      "Intermolecular Forces ‚Äî Dispersion, dipole‚Äìdipole, hydrogen bonding, ion‚Äìdipole; strength depends on polarity, size, and shape.",
      "Boiling & Melting ‚Äî Stronger IMFs ‚Üí higher melting/boiling points; branching and shape also matter.",
      "Solubility ‚Äî ‚ÄúLike dissolves like‚Äù: polar solutes dissolve in polar solvents; non-polar in non-polar.",
      "Types of Solids ‚Äî Ionic (ions in a lattice), molecular (discrete molecules held by IMFs), network covalent (continuous covalent bonding).",
      "Examples of Solids ‚Äî NaCl (ionic), ice and dry ice (molecular), diamond and SiO‚ÇÇ (network).",
      "Polymers ‚Äî Long chains built from repeating monomers; can be linear, branched, or crosslinked.",
      "Silicones ‚Äî Inorganic‚Äìorganic polymers with Si‚ÄìO backbones; important in materials and coatings.",
      "Sustainability Issues ‚Äî Feedstock sources, recycling, microplastics, biodegradable polymers, and polymers in biology."
    ],
    branches:[
      "Microscopic Origin of IMFs ‚Äî Instantaneous dipoles induce others (dispersion); permanent dipoles align (dipole‚Äìdipole); H-bonding involves particularly strong dipoles.",
      "Network vs Molecular Solids ‚Äî In network solids, the whole crystal is one giant molecule, leading to very high melting points and hardness.",
      "Polymer Tangles ‚Äî Chain length and entanglement affect mechanical properties like toughness and elasticity.",
      "Environmental Fate ‚Äî Bond types (C‚ÄìC vs ester vs amide) and crystallinity influence degradability and persistence."
    ],
    leaves:[
      "Identify dominant IMFs for a given substance.",
      "Predict relative boiling points and solubilities from structure.",
      "Classify solids as ionic, molecular, or network covalent.",
      "Describe polymer types and relate structure to properties."
    ],
    fruit:[
      "Outcome: You can explain real material properties (e.g., why PVC pipe vs rubber band behave differently) from molecules and IMFs upward."
    ]
  },
  {
    id:"ch12",
    short:"Ch 12",
    code:"12.1‚Äì12.17",
    title:"Chemistry and Society: Chemicals in Our World",
    roots:[
      "‚ÄúNatural‚Äù and ‚Äúsynthetic‚Äù are about origin, not fundamental chemical difference; molecules don‚Äôt carry moral labels.",
      "Risk depends on dose, exposure, and context, not just on whether something is man-made.",
      "Pharmaceutical and green chemistry show how chemical knowledge can be used to benefit health and the environment."
    ],
    trunk:[
      "Natural vs Synthetic ‚Äî Same molecule (e.g., vitamin C) has the same properties regardless of source.",
      "Organic Farming ‚Äî Uses certain allowed inputs and practices; still fundamentally based on chemistry of nutrients and soil.",
      "Toxicity ‚Äî Depends on dose, route of exposure, and individual sensitivity; ‚Äúthe dose makes the poison‚Äù.",
      "Drug Discovery ‚Äî Starts from targets and lead compounds; involves optimization of potency, selectivity, and ADME (absorption, distribution, metabolism, excretion).",
      "Mode of Action ‚Äî How a drug interacts with biological targets (receptors, enzymes, DNA).",
      "Life-Cycle Assessment ‚Äî Evaluates environmental impact from raw materials to disposal.",
      "Green Chemistry ‚Äî Principles that aim to reduce waste, toxicity, and energy use.",
      "Careers in Chemistry ‚Äî Roles in industry, academia, government, and beyond."
    ],
    branches:[
      "Structure‚ÄìActivity Relationships ‚Äî Small structural changes can dramatically alter biological activity and toxicity.",
      "Bioaccumulation ‚Äî Persistent, lipophilic compounds can concentrate up the food chain.",
      "Trade-offs ‚Äî Replacing a harmful chemical may introduce new risks; decisions balance performance, cost, and safety.",
      "Ethics and Communication ‚Äî Chemists must communicate risk, uncertainty, and benefits clearly to non-experts."
    ],
    leaves:[
      "Critically read claims about ‚Äúchemical-free‚Äù or ‚Äúall-natural‚Äù products.",
      "Explain toxicity as a function of dose and exposure.",
      "Describe how green chemistry principles could improve a given process."
    ],
    fruit:[
      "Outcome: You can discuss chemical risks and benefits in ordinary language, and spot misleading claims in media and marketing."
    ]
  }
];

// Render sidebar
const listEl = document.getElementById("chapter-list");
const contentEl = document.getElementById("chapter-content");
const toastEl = document.getElementById("toast");

function renderSidebar(){
  listEl.innerHTML = "";
  chapters.forEach((ch, idx)=>{
    const btn = document.createElement("button");
    btn.className = "chapter-btn" + (idx === 1 ? " active" : ""); // default to Ch 2
    btn.dataset.id = ch.id;
    btn.innerHTML = `
      <span class="code">${ch.short} ¬∑ <span>${ch.code}</span></span>
      <strong>${ch.title}</strong>
      <span class="mini-tags">roots ‚Ä¢ trunk ‚Ä¢ branches ‚Ä¢ leaves ‚Ä¢ fruit</span>
    `;
    btn.addEventListener("click", ()=>setActiveChapter(ch.id));
    listEl.appendChild(btn);
  });
}

function renderChapter(ch){
  const fruitSection = ch.fruit && ch.fruit.length
    ? `
      <div class="section">
        <h2>
          <span class="emoji">üçé</span>
          <span class="label">Fruit ‚Äì payoffs &amp; formulas</span>
          <span class="tag">exam hooks</span>
        </h2>
        <div class="block">
          <ul>
            ${ch.fruit.map(line => `
              <li><span data-copyable tabindex="0" title="Double-click to copy">${line}</span></li>
            `).join("")}
          </ul>
        </div>
      </div>
    `
    : "";

  contentEl.innerHTML = `
    <h1 style="margin:0 0 4px;font-size:18px;">${ch.title}</h1>
    <p style="margin:0 0 10px;font-size:12px;color:var(--muted);">
    </p>

    <div class="section">
      <h2>
        <span class="emoji">üå±</span>
        <span class="label">Roots ‚Äì big picture meaning</span>
        <span class="tag">large grain</span>
      </h2>
      <div class="block">
        <ul>
          ${ch.roots.map(line => `
            <li><span data-copyable tabindex="0" title="Double-click to copy">${line}</span></li>
          `).join("")}
        </ul>
      </div>
    </div>

    <div class="section">
      <h2>
        <span class="emoji">ü™µ</span>
        <span class="label">Trunk ‚Äì core concepts</span>
        <span class="tag">medium grain</span>
      </h2>
      <div class="block">
        <ul>
          ${ch.trunk.map(line => `
            <li><span data-copyable tabindex="0" title="Double-click to copy">${line}</span></li>
          `).join("")}
        </ul>
      </div>
    </div>

    <div class="section">
      <h2>
        <span class="emoji">üåø</span>
        <span class="label">Branches ‚Äì deeper theory &amp; intuition</span>
        <span class="tag">micro grain</span>
      </h2>
      <div class="block">
        <ul>
          ${ch.branches.map(line => `
            <li><span data-copyable tabindex="0" title="Double-click to copy">${line}</span></li>
          `).join("")}
        </ul>
      </div>
    </div>

    <div class="section">
      <h2>
        <span class="emoji">üçÉ</span>
        <span class="label">Leaves ‚Äì skills &amp; problem types</span>
        <span class="tag">practice</span>
      </h2>
      <div class="block">
        <ul>
          ${ch.leaves.map(line => `
            <li><span data-copyable tabindex="0" title="Double-click to copy">${line}</span></li>
          `).join("")}
        </ul>
      </div>
    </div>

    ${fruitSection}
  `;
}

function setActiveChapter(id){
  const ch = chapters.find(c => c.id === id);
  if(!ch) return;
  document.querySelectorAll(".chapter-btn").forEach(btn=>{
    btn.classList.toggle("active", btn.dataset.id === id);
  });
  renderChapter(ch);
}

// Copy-on-double-click logic
let toastTimer = null;

async function copyTextFromElement(el){
  const text = (el.innerText || el.textContent || "").replace(/\s+/g," ").trim();
  if(!text) return;
  try{
    await navigator.clipboard.writeText(text);
  }catch{
    const ta = document.createElement("textarea");
    ta.value = text;
    document.body.appendChild(ta);
    ta.select();
    try{ document.execCommand("copy"); }catch(e){}
    ta.remove();
  }
}

function showToast(msg){
  if(!toastEl) return;
  toastEl.textContent = msg || "Copied ‚úî";
  toastEl.style.display = "block";
  toastEl.style.opacity = "0";
  toastEl.style.transform = "translateY(-6px)";
  requestAnimationFrame(()=>{
    toastEl.style.transition = "opacity .18s ease,transform .18s ease";
    toastEl.style.opacity = "1";
    toastEl.style.transform = "translateY(0)";
  });
  if(toastTimer) clearTimeout(toastTimer);
  toastTimer = setTimeout(()=>{
    toastEl.style.opacity = "0";
    toastEl.style.transform = "translateY(-6px)";
    setTimeout(()=>{ toastEl.style.display = "none"; }, 200);
  }, 1100);
}

document.addEventListener("dblclick", async (ev)=>{
  const target = ev.target.closest("[data-copyable]");
  if(!target) return;
  await copyTextFromElement(target);
  target.classList.add("copied");
  setTimeout(()=>target.classList.remove("copied"), 650);
  showToast("Copied ‚úî");
}, { passive:true });

document.addEventListener("keydown", (ev)=>{
  if(ev.key !== "Enter") return;
  const target = ev.target.closest("[data-copyable]");
  if(!target) return;
  ev.preventDefault();
  target.dispatchEvent(new MouseEvent("dblclick",{bubbles:true}));
});

// init
renderSidebar();
setActiveChapter("ch2"); // default: Ch 2 bonding (core of Chem 121)
</script>
</body>
</html>

